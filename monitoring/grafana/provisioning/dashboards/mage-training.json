{
    "id": null,
    "title": "Mage AI Training - Local Test Dashboard",
    "tags": [
        "mage",
        "ai",
        "training",
        "local"
    ],
    "timezone": "browser",
    "refresh": "5s",
    "time": {
        "from": "now-30m",
        "to": "now"
    },
    "panels": [
        {
            "id": 1,
            "title": "üìà Episode Generation Rate",
            "type": "stat",
            "targets": [
                {
                    "expr": "sum(rate(mage_episodes_completed_total{job=\"mage-worker\"}[1m]))",
                    "legendFormat": "Episodes/sec",
                    "refId": "A"
                }
            ],
            "fieldConfig": {
                "defaults": {
                    "unit": "eps",
                    "color": {
                        "mode": "thresholds"
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "red",
                                "value": 0
                            },
                            {
                                "color": "yellow",
                                "value": 0.05
                            },
                            {
                                "color": "green",
                                "value": 0.2
                            }
                        ]
                    },
                    "mappings": []
                }
            },
            "gridPos": {
                "h": 8,
                "w": 6,
                "x": 0,
                "y": 0
            }
        },
        {
            "id": 2,
            "title": "üéØ Total Episodes Completed",
            "type": "stat",
            "targets": [
                {
                    "expr": "sum(mage_episodes_completed_total{job=\"mage-worker\"})",
                    "legendFormat": "Total Episodes",
                    "refId": "A"
                }
            ],
            "fieldConfig": {
                "defaults": {
                    "unit": "short",
                    "color": {
                        "mode": "palette-classic"
                    }
                }
            },
            "gridPos": {
                "h": 8,
                "w": 6,
                "x": 6,
                "y": 0
            }
        },
        {
            "id": 3,
            "title": "üî• GPU Memory Usage",
            "type": "gauge",
            "targets": [
                {
                    "expr": "100 * sum(mage_gpu_memory_used_bytes{job=\"mage-learner\"}) / sum(mage_gpu_memory_total_bytes{job=\"mage-learner\"})",
                    "legendFormat": "GPU Memory %",
                    "refId": "A"
                }
            ],
            "fieldConfig": {
                "defaults": {
                    "unit": "percent",
                    "min": 0,
                    "max": 100,
                    "thresholds": {
                        "steps": [
                            {
                                "color": "green",
                                "value": 0
                            },
                            {
                                "color": "yellow",
                                "value": 70
                            },
                            {
                                "color": "red",
                                "value": 90
                            }
                        ]
                    }
                }
            },
            "gridPos": {
                "h": 8,
                "w": 6,
                "x": 12,
                "y": 0
            }
        },
        {
            "id": 4,
            "title": "üß† Current Batch Size",
            "type": "stat",
            "targets": [
                {
                    "expr": "max(mage_current_batch_size{job=\"mage-learner\"})",
                    "legendFormat": "Current Size",
                    "refId": "A"
                }
            ],
            "fieldConfig": {
                "defaults": {
                    "unit": "short"
                }
            },
            "gridPos": {
                "h": 8,
                "w": 6,
                "x": 18,
                "y": 0
            }
        },
        {
            "id": 5,
            "title": "üìä Episode Generation Over Time",
            "type": "graph",
            "targets": [
                {
                    "expr": "increase(mage_episodes_completed_total{job=\"mage-worker\"}[1m])",
                    "legendFormat": "Episodes per minute",
                    "refId": "A"
                }
            ],
            "yAxes": [
                {
                    "label": "Episodes",
                    "min": 0
                },
                {
                    "show": false
                }
            ],
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 8
            }
        },
        {
            "id": 6,
            "title": "üéÆ Training Updates",
            "type": "graph",
            "targets": [
                {
                    "expr": "mage_training_updates_total{job=\"mage-learner\"}",
                    "legendFormat": "Training Updates",
                    "refId": "A"
                },
                {
                    "expr": "mage_samples_processed_total{job=\"mage-learner\"}",
                    "legendFormat": "Samples Processed",
                    "refId": "B"
                }
            ],
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 8
            }
        },
        {
            "id": 7,
            "title": "üíæ JVM Memory Usage",
            "type": "graph",
            "targets": [
                {
                    "expr": "mage_jvm_memory_used_bytes / 1024 / 1024",
                    "legendFormat": "Used Memory (MB)",
                    "refId": "A"
                },
                {
                    "expr": "mage_jvm_memory_max_bytes / 1024 / 1024",
                    "legendFormat": "Max Memory (MB)",
                    "refId": "B"
                }
            ],
            "yAxes": [
                {
                    "label": "Memory (MB)",
                    "min": 0
                },
                {
                    "show": false
                }
            ],
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 16
            }
        },
        {
            "id": 8,
            "title": "üö® Error Tracking",
            "type": "stat",
            "targets": [
                {
                    "expr": "sum(rate(mage_errors_total[5m])) * 300",
                    "legendFormat": "Errors per 5min",
                    "refId": "A"
                }
            ],
            "fieldConfig": {
                "defaults": {
                    "unit": "short",
                    "thresholds": {
                        "steps": [
                            {
                                "color": "green",
                                "value": 0
                            },
                            {
                                "color": "yellow",
                                "value": 1
                            },
                            {
                                "color": "red",
                                "value": 5
                            }
                        ]
                    }
                }
            },
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 16
            }
        },
        {
            "id": 9,
            "title": "‚öôÔ∏è Component Activity",
            "type": "table",
            "targets": [
                {
                    "expr": "mage_worker_episodes_total",
                    "legendFormat": "Worker Episodes",
                    "refId": "A",
                    "instant": true
                },
                {
                    "expr": "mage_learner_batches_total",
                    "legendFormat": "Learner Batches",
                    "refId": "B",
                    "instant": true
                },
                {
                    "expr": "mage_python_bridge_calls_total",
                    "legendFormat": "Python Bridge Calls",
                    "refId": "C",
                    "instant": true
                },
                {
                    "expr": "mage_checkpoints_saved_total",
                    "legendFormat": "Checkpoints Saved",
                    "refId": "D",
                    "instant": true
                }
            ],
            "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 24
            }
        }
    ],
    "templating": {
        "list": []
    },
    "annotations": {
        "list": []
    },
    "schemaVersion": 27,
    "version": 1
}